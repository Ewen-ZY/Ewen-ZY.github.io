<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>代码、文、运动</title>
  
  <subtitle>You are my only.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://ewen-zy.github.io/"/>
  <updated>2019-05-13T07:26:52.856Z</updated>
  <id>https://ewen-zy.github.io/</id>
  
  <author>
    <name>赖伟文</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hello World</title>
    <link href="https://ewen-zy.github.io/uncategorized/4a17b156.html"/>
    <id>https://ewen-zy.github.io/uncategorized/4a17b156.html</id>
    <published>2019-05-13T07:19:27.013Z</published>
    <updated>2019-05-13T07:26:52.856Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Arch+i3-gaps+lightdm+urxvt安装</title>
    <link href="https://ewen-zy.github.io/uncategorized/f83052e5.html"/>
    <id>https://ewen-zy.github.io/uncategorized/f83052e5.html</id>
    <published>2019-05-13T07:03:53.000Z</published>
    <updated>2019-05-13T07:26:52.853Z</updated>
    
    <content type="html"><![CDATA[<h2 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h2><p>第五次安装arch了，除了第一次欲仙欲死还没有安装成功外，其他都安装成功了。然后发现四次安装都要手动进行个人配置，很无语。因此，整理一下并写一些小脚本，<a href>传送门</a>。</p><h2 id="安装Arch"><a href="#安装Arch" class="headerlink" title="安装Arch"></a>安装Arch</h2><p><em>推荐windows下的工具<a href="https://rufus.ie/" target="_blank" rel="noopener">rufus</a>制作引导U盘。</em>默认制作好引导U盘。</p><h3 id="查看引导方式"><a href="#查看引导方式" class="headerlink" title="查看引导方式"></a>查看引导方式</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ -d /sys/firmware/efi/efivars ] &amp;&amp; echo UEFI || echo BIOS</span><br></pre></td></tr></table></figure><h3 id="联网"><a href="#联网" class="headerlink" title="联网"></a>联网</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dhcpcd</span><br></pre></td></tr></table></figure><h3 id="更新系统时间"><a href="#更新系统时间" class="headerlink" title="更新系统时间"></a>更新系统时间</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp true</span><br></pre></td></tr></table></figure><h3 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h3><p><a href="https://wiki.archlinux.org/index.php/Partitioning_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%B8%83%E5%B1%80%E7%A4%BA%E4%BE%8B" target="_blank" rel="noopener">Arch Wiki 分区布局示例</a></p><p>推荐布局</p><table><thead><tr><th>挂载点</th><th>我的分区大小</th></tr></thead><tbody><tr><td>/boot/efi</td><td>300M够多系统使用</td></tr><tr><td>/</td><td>80G</td></tr><tr><td>/home</td><td>100G</td></tr></tbody></table><h4 id="BIOS-MBR方式引导"><a href="#BIOS-MBR方式引导" class="headerlink" title="BIOS/MBR方式引导"></a>BIOS/MBR方式引导</h4><p>跳过下一步创建引导分区。</p><h4 id="EFI-GPT方式引导"><a href="#EFI-GPT方式引导" class="headerlink" title="EFI/GPT方式引导"></a>EFI/GPT方式引导</h4><ol><li><p>已经存在EFI分区</p><p>跳过这一步。</p></li><li><p>没有EFI分区，一般为新硬盘</p><ol><li>有WinPE的可以使用windows下的工具创建EFI分区。</li><li>没有其他工具的，只能使用命令行了吧。推荐一个<a href="https://www.xncoding.com/2017/03/14/ceph/disk-partition.html" target="_blank" rel="noopener">Linux磁盘分区总结——飞污熊</a></li></ol></li></ol><h4 id="创建根分区与home分区"><a href="#创建根分区与home分区" class="headerlink" title="创建根分区与home分区"></a>创建根分区与home分区</h4><p>/dev/sdx为选择放置根分区的硬盘</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">fdisk /dev/sdx</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以下为示例</span></span><br><span class="line">Command (m for help): n  # 创建分区</span><br><span class="line">Partition number (5-128, default 5):  # 选择分区序号，默认即可</span><br><span class="line">First sector (1951842304-1953525134, default 1951842304):  # 选择起始扇区，默认即可</span><br><span class="line">Last sector, +/-sectors or +/-size&#123;K,M,G,T,P&#125; (1951842304-1953525134, default 1953525134): +80G# 选择终止扇区，可以使用+600M表示分配600M、+5G表示分配5G的形式</span><br><span class="line">Command (m for help): w  # 写入，并退出</span><br><span class="line"></span><br><span class="line">Command (m for help): q  # 放弃操作，并退出</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 初始化根分区</span></span><br><span class="line">mkfs.ext4 /dev/sdxY （/dev/sdxY为新创建的分区，在上面例子中Y为 5 ）</span><br></pre></td></tr></table></figure><h3 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h3><p>假设EFI分区/dev/sda1、根分区/dev/sda2、home分区/dev/sda3。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 挂载根分区</span></span><br><span class="line">mount /dev/sda2 /mnt</span><br><span class="line"><span class="meta">#</span><span class="bash"> 挂载EFI分区</span></span><br><span class="line">mkdir -p /mnt/boot/efi</span><br><span class="line">mount /dev/sda1 /mnt/boot/efi   # 只有引导方式为EFI/GPT才需要这一步</span><br><span class="line"><span class="meta">#</span><span class="bash"> 挂载home分区</span></span><br><span class="line">mkdir /mnt/home</span><br><span class="line">mount /dev/sda3 /mnt/home</span><br></pre></td></tr></table></figure><h3 id="选择镜像源"><a href="#选择镜像源" class="headerlink" title="选择镜像源"></a>选择镜像源</h3><p>修改<code>/etc/pacman.d/mirrorlist</code>文件，将下列镜像源移至最前面。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># China</span></span></span><br><span class="line">Server = http://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># China</span></span></span><br><span class="line">Server = http://mirrors.zju.edu.cn/archlinux/$repo/os/$arch</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># China</span></span></span><br><span class="line">Server = http://mirrors.ustc.edu.cn/archlinux/$repo/os/$arch</span><br></pre></td></tr></table></figure><h3 id="安装基本包"><a href="#安装基本包" class="headerlink" title="安装基本包"></a>安装基本包</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base</span><br></pre></td></tr></table></figure><h3 id="生成fstab"><a href="#生成fstab" class="headerlink" title="生成fstab"></a>生成fstab</h3><p>如果在使用arch时除了linux用的一些分区还要挂载一些ntfs分区，那么可以在生成fstab之前提前挂载，在生成fstab这些挂载信息也会一起生成。下面以uid为1000、gid为1000、目录rwx为755、文件rwx为644的用户权限挂载ntfs分区。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount -o rw,uid=1000,gid=1000,utf8,fmask=133,dmask=022 /dev/sda4 /mnt/data</span><br><span class="line">genfstab -L /mnt &gt;&gt; /mnt/etc/fstab</span><br><span class="line">cat /mnt/etc/fstab # 检查结果</span><br></pre></td></tr></table></figure><p><img src="Arch.assets/1557113401856.png" alt="1557113401856"></p><h3 id="进入新安装的Arch系统"><a href="#进入新安装的Arch系统" class="headerlink" title="进入新安装的Arch系统"></a>进入新安装的Arch系统</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot</span><br></pre></td></tr></table></figure><h3 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure><h3 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h3><p>删除<code>/etc/locale.gen</code>文件中下列行首的“#”。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/locale.gen</span><br><span class="line">--------------------------------------------------</span><br><span class="line">en_US.UTF-8 UTF-8</span><br><span class="line">zh_CN.UTF-8 UTF-8</span><br><span class="line">zh_HK.UTF-8 UTF-8</span><br><span class="line">zh_TW.UTF-8 UTF-8</span><br></pre></td></tr></table></figure><p>接着执行 <code>locale-gen</code> 以生成 locale 讯息，并在<code>/etc/locale.conf</code>添加<code>LANG</code>变量。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br><span class="line"></span><br><span class="line">vim /etc/locale.conf</span><br><span class="line">--------------------------------------------------</span><br><span class="line">LANG=en_US.UTF-8</span><br></pre></td></tr></table></figure><h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><p>设置主机名。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br><span class="line">--------------------------------------------------</span><br><span class="line">myhostname</span><br></pre></td></tr></table></figure><p>设置hosts。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hosts</span><br><span class="line">--------------------------------------------------</span><br><span class="line">127.0.0.1localhost</span><br><span class="line">::1    localhost</span><br><span class="line">127.0.1.1myhostname.localdomainmyhostname</span><br></pre></td></tr></table></figure><h3 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><h3 id="安装Intel-ucode（非Intel-CPU可以跳过此步骤）"><a href="#安装Intel-ucode（非Intel-CPU可以跳过此步骤）" class="headerlink" title="安装Intel-ucode（非Intel CPU可以跳过此步骤）"></a>安装Intel-ucode（非Intel CPU可以跳过此步骤）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S intel-ucode</span><br></pre></td></tr></table></figure><h3 id="安装Bootleader——grub2"><a href="#安装Bootleader——grub2" class="headerlink" title="安装Bootleader——grub2"></a>安装Bootleader——grub2</h3><h4 id="BIOS-MBR引导"><a href="#BIOS-MBR引导" class="headerlink" title="BIOS/MBR引导"></a>BIOS/MBR引导</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S os-prober grub</span><br><span class="line">grub-install --target=i386-pc /dev/sdx #（将sdx换成安装的arch硬盘）</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure><h4 id="EFI-GPT引导"><a href="#EFI-GPT引导" class="headerlink" title="EFI/GPT引导"></a>EFI/GPT引导</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S os-prober grub efibootmgr</span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=grub</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure><h3 id="重启后续操作"><a href="#重启后续操作" class="headerlink" title="重启后续操作"></a>重启后续操作</h3><p>开机自动联网</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pacman -S NetworkManager</span><br><span class="line">systemctl enable NetworkManager.service</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl start NetworkManager.service</span><br></pre></td></tr></table></figure><p>声音</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S alsa-utils pulseaudio</span><br></pre></td></tr></table></figure><p>蓝牙</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pacman -S bluez bluez-utils</span><br><span class="line">systemctl enable bluetooth.service</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl start bluetooth.service</span><br></pre></td></tr></table></figure><h2 id="安装i3-gaps"><a href="#安装i3-gaps" class="headerlink" title="安装i3-gaps"></a>安装i3-gaps</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S xorg</span><br><span class="line">pacman -S i3-gaps polybar</span><br></pre></td></tr></table></figure><h2 id="安装lightdm"><a href="#安装lightdm" class="headerlink" title="安装lightdm"></a>安装lightdm</h2><p>lightdm即Light Display Manager，显示管理器。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pacman -S lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</span><br><span class="line">systemctl enable lightdm.service</span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl start lightdm.service</span><br></pre></td></tr></table></figure><h2 id="安装urxvt"><a href="#安装urxvt" class="headerlink" title="安装urxvt"></a>安装urxvt</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S rxvt-unicode</span><br></pre></td></tr></table></figure><h2 id="Fira-Code字体"><a href="#Fira-Code字体" class="headerlink" title="Fira Code字体"></a>Fira Code字体</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S ttf-fira-code powerline powerline-common powerline-fonts ttf-dejavu</span><br></pre></td></tr></table></figure><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ol><li><a href="https://www.viseator.com/2017/05/17/arch_install/" target="_blank" rel="noopener">以官方Wiki的方式安装ArchLinux</a></li><li><a href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)" target="_blank" rel="noopener">Installation guide (简体中文)——archlinux wiki</a></li><li><a href="https://wiki.archlinux.org/index.php/Installation_guide" target="_blank" rel="noopener">Installation guide——archlinux wiki</a></li><li></li><li><a href="https://wiki.archlinux.org/index.php/Bluetooth_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#%E5%AE%89%E8%A3%85" target="_blank" rel="noopener">Bluetooth (简体中文)</a></li><li></li><li></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;写在前面&quot;&gt;&lt;a href=&quot;#写在前面&quot; class=&quot;headerlink&quot; title=&quot;写在前面&quot;&gt;&lt;/a&gt;写在前面&lt;/h2&gt;&lt;p&gt;第五次安装arch了，除了第一次欲仙欲死还没有安装成功外，其他都安装成功了。然后发现四次安装都要手动进行个人配置，很无语。因
      
    
    </summary>
    
    
  </entry>
  
</feed>
